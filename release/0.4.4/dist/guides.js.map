{"version":3,"file":"guides.js","sources":["../src/consts.ts","../src/InnerGuides.tsx","../src/Guides.tsx","../src/index.umd.ts"],"sourcesContent":["import { GuidesOptions } from \"./types\";\n\nexport const PROPERTIES: Array<keyof GuidesOptions> = [\n    \"setGuides\",\n    \"type\", \"width\", \"height\", \"rulerStyle\",\n    \"unit\", \"zoom\", \"style\", \"backgroundColor\", \"lineColor\",\n    \"container\",\n    \"className\",\n    \"textColor\",\n];\n","import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ref } from \"framework-utils\";\nimport ReactGuides from \"@scena/react-guides\";\nimport { GuidesOptions } from \"./types\";\n\nexport default class InnerGuides extends React.Component<GuidesOptions, GuidesOptions> {\n    public state: GuidesOptions = {};\n    public guides: ReactGuides;\n    constructor(props: GuidesOptions) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        const { container, ...state } = this.state;\n        return createPortal(<ReactGuides ref={ref(this, \"guides\")} {...state} />, container);\n    }\n}\n","import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { PROPERTIES } from \"./consts\";\nimport { GuidesInterface } from \"@scena/react-guides/declaration/types\";\nimport InnerGuides from \"./InnerGuides\";\nimport { GuidesOptions } from \"./types\";\n\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getPreactGuides().props[property];\n        },\n        set(value) {\n            this.innerGuides.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass Guides implements GuidesInterface {\n    private tempElement = document.createElement(\"div\");\n    private innerGuides!: InnerGuides;\n\n    constructor(container: HTMLElement, options: Partial<GuidesOptions> = {}) {\n        render(\n            <InnerGuides ref={ref(this, \"innerGuides\")}\n                {...options} container={container} />,\n            this.tempElement,\n        );\n    }\n    public scroll(scrollPos: number) {\n        this.getPreactGuides().scroll(scrollPos);\n    }\n    public scrollGuides(scrollPos: number) {\n        this.getPreactGuides().scrollGuides(scrollPos);\n    }\n    public resize() {\n        this.getPreactGuides().resize();\n    }\n    public getGuides() {\n        return this.getPreactGuides().getGuides();\n    }\n    public setState(state: any, callback?: () => void) {\n        this.innerGuides.setState(state, callback);\n    }\n    public destroy() {\n        render(null, this.tempElement);\n        this.tempElement = null;\n        this.innerGuides = null;\n    }\n    private getPreactGuides() {\n        return this.innerGuides.guides;\n    }\n}\n\nexport default Guides;\n","import Guides from \"./Guides\";\nimport { PROPERTIES } from \"./consts\";\n\n(Guides as any).PROPERTIES = PROPERTIES;\n\nexport default Guides;\n"],"names":["PROPERTIES","__extends","props","_super","_this","state","_a","container","createPortal","React","ReactGuides","ref","options","document","createElement","render","InnerGuides","tempElement","scrollPos","getPreactGuides","scroll","scrollGuides","resize","getGuides","callback","innerGuides","setState","guides","Guides","Properties","prototype","property","Object","defineProperty","get","set","value","enumerable","configurable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEO,IAAMA,UAAU,GAA+B,CAClD,WADkD,EAElD,MAFkD,EAE1C,OAF0C,EAEjC,QAFiC,EAEvB,YAFuB,EAGlD,MAHkD,EAG1C,MAH0C,EAGlC,OAHkC,EAGzB,iBAHyB,EAGN,WAHM,EAIlD,WAJkD,EAKlD,WALkD,EAMlD,WANkD,CAA/C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ICIP;;;IAAyCC,EAAAA,8BAAA;;IAGrC,sBAAA,CAAYC,KAAZ;IAAA,gBACIC,WAAA,KAAA,EAAMD,KAAN,SADJ;;IAFOE,IAAAA,WAAA,GAAuB,EAAvB;IAIHA,IAAAA,KAAI,CAACC,KAAL,GAAaD,KAAI,CAACF,KAAlB;;IACH;;;;IACM,gBAAA,GAAP;IACI,QAAMI,eAAN;IAAA,QAAQC,wBAAR;IAAA,QAAmBF,iCAAnB;;IACA,WAAOG,YAAY,CAACC,aAAA,CAACC,MAAD;IAAaC,MAAAA,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,QAAP;WAAsBN,MAA3C,CAAD,EAAuDE,SAAvD,CAAnB;IACH,GAHM;;IAIX,oBAAA;IAAC,EAXwCE,UAAzC;;ICgBA;;;IAII,iBAAA,CAAYF,SAAZ,EAAoCK,OAApC;IAAoC,0BAAA,EAAA;IAAAA,MAAAA,YAAA;;;IAH5B,oBAAA,GAAcC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;IAIJC,IAAAA,MAAM,CACFN,aAAA,CAACO,WAAD;IAAaL,MAAAA,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,aAAP;WACbC;IAASL,MAAAA,SAAS,EAAEA;UAD5B,CADE,EAGF,KAAKU,WAHH,CAAN;IAKH;;;;IACM,gBAAA,GAAP,UAAcC,SAAd;IACI,SAAKC,eAAL,GAAuBC,MAAvB,CAA8BF,SAA9B;IACH,GAFM;;IAGA,sBAAA,GAAP,UAAoBA,SAApB;IACI,SAAKC,eAAL,GAAuBE,YAAvB,CAAoCH,SAApC;IACH,GAFM;;IAGA,gBAAA,GAAP;IACI,SAAKC,eAAL,GAAuBG,MAAvB;IACH,GAFM;;IAGA,mBAAA,GAAP;IACI,WAAO,KAAKH,eAAL,GAAuBI,SAAvB,EAAP;IACH,GAFM;;IAGA,kBAAA,GAAP,UAAgBlB,KAAhB,EAA4BmB,QAA5B;IACI,SAAKC,WAAL,CAAiBC,QAAjB,CAA0BrB,KAA1B,EAAiCmB,QAAjC;IACH,GAFM;;IAGA,iBAAA,GAAP;IACIT,IAAAA,MAAM,CAAC,IAAD,EAAO,KAAKE,WAAZ,CAAN;IACA,SAAKA,WAAL,GAAmB,IAAnB;IACA,SAAKQ,WAAL,GAAmB,IAAnB;IACH,GAJM;;IAKC,yBAAA,GAAR;IACI,WAAO,KAAKA,WAAL,CAAiBE,MAAxB;IACH,GAFO;;IA/BNC,EAAAA,MAAM,eAdXC,UAAU,CAAC7B,UAAD,EAAa,UAAC8B,SAAD,EAAYC,QAAZ;IACpBC,IAAAA,MAAM,CAACC,cAAP,CAAsBH,SAAtB,EAAiCC,QAAjC,EAA2C;IACvCG,MAAAA,GAAG;IACC,eAAO,KAAKf,eAAL,GAAuBjB,KAAvB,CAA6B6B,QAA7B,CAAP;IACH,OAHsC;IAIvCI,MAAAA,GAAG,YAACC;;;IACA,aAAKX,WAAL,CAAiBC,QAAjB,WACIpB,GAACyB,SAAD,GAAYK,SADhB;IAGH,OARsC;IASvCC,MAAAA,UAAU,EAAE,IAT2B;IAUvCC,MAAAA,YAAY,EAAE;IAVyB,KAA3C;IAYH,GAbU,IAcLV,OAAA;IAkCN,eAAA;IAlCA,GAAA;;ACnBCA,YAAc,CAAC5B,UAAf,GAA4BA,UAA5B;;;;;;;;"}
{"version":3,"file":"guides.esm.js","sources":["../src/consts.ts","../src/InnerGuides.tsx","../src/Guides.tsx"],"sourcesContent":["import { GuidesProps } from \"@scena/react-guides/declaration/types\";\n\nexport const PROPERTIES: Array<keyof GuidesProps> = [\n    \"setGuides\",\n    \"type\", \"width\", \"height\", \"rulerStyle\",\n    \"unit\", \"zoom\", \"style\", \"backgroundColor\", \"lineColor\",\n];\n","import { Component, h } from \"preact\";\nimport { createPortal } from \"preact/compat\";\nimport { ref } from \"framework-utils\";\nimport PreactGuides from \"preact-guides\";\nimport { InnerGuidesProps } from \"./types\";\n\nexport default class InnerGuides extends Component<InnerGuidesProps, InnerGuidesProps> {\n    public state: InnerGuidesProps = {};\n    public preactGuides: PreactGuides;\n    constructor(props: InnerGuidesProps) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        const { parentElement, ...state } = this.state;\n        return createPortal(<PreactGuides ref={ref(this, \"preactGuides\")} {...state} />, parentElement);\n    }\n}\n","import { ref, Properties } from \"framework-utils\";\nimport { h, render } from \"preact\";\nimport { PROPERTIES } from \"./consts\";\nimport { GuidesInterface, GuidesProps } from \"@scena/react-guides/declaration/types\";\nimport InnerGuides from \"./InnerGuides\";\n\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getPreactGuides().props[property];\n        },\n        set(value) {\n            this.innerGuides.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass Guides implements GuidesInterface {\n    private tempElement = document.createElement(\"div\");\n    private innerGuides!: InnerGuides;\n\n    constructor(parentElement: HTMLElement, options: Partial<GuidesProps> = {}) {\n        render(\n            <InnerGuides ref={ref(this, \"innerGuides\")}\n                {...options} parentElement={parentElement} />,\n            this.tempElement,\n        );\n    }\n    public scroll(scrollPos: number) {\n        this.getPreactGuides().scroll(scrollPos);\n    }\n    public scrollGuides(scrollPos: number) {\n        this.getPreactGuides().scrollGuides(scrollPos);\n    }\n    public resize() {\n        this.getPreactGuides().resize();\n    }\n    public getGuides() {\n        return this.getPreactGuides().getGuides();\n    }\n    public destroy() {\n        render(\"\", this.tempElement);\n        this.tempElement = null;\n        this.innerGuides = null;\n    }\n    private getPreactGuides() {\n        return this.innerGuides.preactGuides;\n    }\n}\n\nexport default Guides;\n"],"names":["PROPERTIES","__extends","props","_super","_this","state","_a","parentElement","createPortal","h","PreactGuides","ref","Component","options","document","createElement","render","InnerGuides","tempElement","scrollPos","getPreactGuides","scroll","scrollGuides","resize","getGuides","innerGuides","preactGuides","Guides","Properties","prototype","property","Object","defineProperty","get","set","value","setState","enumerable","configurable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEaA,UAAU,GAA6B,CAChD,WADgD,EAEhD,MAFgD,EAExC,OAFwC,EAE/B,QAF+B,EAErB,YAFqB,EAGhD,MAHgD,EAGxC,MAHwC,EAGhC,OAHgC,EAGvB,iBAHuB,EAGJ,WAHI,CAA7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIP;;;EAAyCC,8BAAA;;sBAGrC,CAAYC,KAAZ;gBACIC,WAAA,KAAA,EAAMD,KAAN,SADJ;;IAFOE,WAAA,GAA0B,EAA1B;IAIHA,KAAI,CAACC,KAAL,GAAaD,KAAI,CAACF,KAAlB;;;;;;gBAEG,GAAP;QACUI,eAAN;QAAQC,gCAAR;QAAuBF,qCAAvB;;WACOG,CAAY,CAACC,EAACC;MAAaC,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,cAAP;OAA4BN,OAAnD,EAA8DE,aAA9D,CAAnB;GAFG;;oBAIX;EAXyCK,UAAzC;;ACcA;;;iBAII,CAAYL,aAAZ,EAAwCM,OAAxC;0BAAwC,EAAA;MAAAA,YAAA;;;oBAHhC,GAAcC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;IAIJC,MAAM,CACFP,EAACQ;MAAYN,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,aAAP;OACbE;MAASN,aAAa,EAAEA;OAF9B,EAGF,KAAKW,WAHH,CAAN;;;;;gBAMG,GAAP,UAAcC,SAAd;SACSC,eAAL,GAAuBC,MAAvB,CAA8BF,SAA9B;GADG;;sBAGA,GAAP,UAAoBA,SAApB;SACSC,eAAL,GAAuBE,YAAvB,CAAoCH,SAApC;GADG;;gBAGA,GAAP;SACSC,eAAL,GAAuBG,MAAvB;GADG;;mBAGA,GAAP;WACW,KAAKH,eAAL,GAAuBI,SAAvB,EAAP;GADG;;iBAGA,GAAP;IACIR,MAAM,CAAC,EAAD,EAAK,KAAKE,WAAV,CAAN;SACKA,WAAL,GAAmB,IAAnB;SACKO,WAAL,GAAmB,IAAnB;GAHG;;yBAKC,GAAR;WACW,KAAKA,WAAL,CAAiBC,YAAxB;GADI;;EA5BNC,MAAM,eAdXC,UAAU,CAAC5B,UAAD,EAAa,UAAC6B,SAAD,EAAYC,QAAZ;IACpBC,MAAM,CAACC,cAAP,CAAsBH,SAAtB,EAAiCC,QAAjC,EAA2C;MACvCG,GAAG;eACQ,KAAKb,eAAL,GAAuBlB,KAAvB,CAA6B4B,QAA7B,CAAP;OAFmC;MAIvCI,GAAG,YAACC;;;aACKV,WAAL,CAAiBW,QAAjB,WACI9B,GAACwB,SAAD,GAAYK,SADhB;OALmC;MASvCE,UAAU,EAAE,IAT2B;MAUvCC,YAAY,EAAE;KAVlB;GADO,IAcLX,OAAA;eA+BN;GA/BA;;;;;"}
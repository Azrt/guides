/*
Copyright (c) 2019 Daybrush
name: @scena/guides
license: MIT
author: Daybrush
repository: git+https://github.com/daybrush/guides.git
version: 0.3.0
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Guides=e()}(this,function(){"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function f(e,n){return function(t){t&&(e[n]=t)}}var b,a,e,n,u,i,C={},k=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function w(t,e){for(var n in e)t[n]=e[n];return t}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function s(t,e,n){var r,o,i,u,a=arguments;if(e=w({},e),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(a[r]);if(null!=n&&(e.children=n),null!=t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===e[o]&&(e[o]=t.defaultProps[o]);return u=e.key,null!=(i=e.ref)&&delete e.ref,null!=u&&delete e.key,c(t,e,u,i)}function c(t,e,n,r){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:null,__c:null,constructor:void 0};return b.vnode&&b.vnode(o),o}function t(){return{}}function E(t){return t.children}function x(t,e){this.props=t,this.context=e}function g(t,e){if(null==e)return t.__?g(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?g(t):null}function p(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return p(t)}}function _(t){(!t.__d&&(t.__d=!0)&&1===a.push(t)||n!==b.debounceRendering)&&((n=b.debounceRendering)||e)(h)}function h(){var t,e,n,r,o,i,u;for(a.sort(function(t,e){return e.__v.__b-t.__v.__b});t=a.pop();)t.__d&&(r=n=void 0,i=(o=(e=t).__v).__e,(u=e.__P)&&(n=[],r=O(u,o,w({},o),e.__n,void 0!==u.ownerSVGElement,null,n,null==i?g(o):i),m(n,o),r!=i&&p(o)))}function N(e,n,t,r,o,i,u,a,l){var s,c,f,p,_,h,d,v=t&&t.__k||k,m=v.length;if(a==C&&(a=null!=i?i[0]:m?g(t,0):null),s=0,n.__k=P(n.__k,function(t){if(null!=t){if(t.__=n,t.__b=n.__b+1,null===(f=v[s])||f&&t.key==f.key&&t.type===f.type)v[s]=void 0;else for(c=0;c<m;c++){if((f=v[c])&&t.key==f.key&&t.type===f.type){v[c]=void 0;break}f=null}if(p=O(e,t,f=f||C,r,o,i,u,a,l),(c=t.ref)&&f.ref!=c&&(d=d||[],f.ref&&d.push(f.ref,null,t),d.push(c,t.__c||p,t)),null!=p){if(null==h&&(h=p),null!=t.__d)p=t.__d,t.__d=null;else if(i==f||p!=a||null==p.parentNode){t:if(null==a||a.parentNode!==e)e.appendChild(p);else{for(_=a,c=0;(_=_.nextSibling)&&c<m;c+=2)if(_==p)break t;e.insertBefore(p,a)}"option"==n.type&&(e.value="")}a=p.nextSibling,"function"==typeof n.type&&(n.__d=p)}}return s++,t}),n.__e=h,null!=i&&"function"!=typeof n.type)for(s=i.length;s--;)null!=i[s]&&y(i[s]);for(s=m;s--;)null!=v[s]&&A(v[s],v[s]);if(d)for(s=0;s<d.length;s++)D(d[s],d[++s],d[++s])}function P(t,e,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)P(t[r],e,n);else n.push(e?e("string"==typeof t||"number"==typeof t?c(null,t,null,null):null!=t.__e||null!=t.__c?c(t.type,t.props,t.key,null):t):t);return n}function d(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]="number"==typeof n&&!1===l.test(e)?n+"px":null==n?"":n}function S(t,e,n,r,o){var i,u,a,l,s;if(o?"className"===e&&(e="class"):"class"===e&&(e="className"),"key"!==e&&"children"!==e)if("style"===e)if(i=t.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(u in r)n&&u in n||d(i,u,"");if(n)for(a in n)r&&n[a]===r[a]||d(i,a,n[a])}else"o"===e[0]&&"n"===e[1]?(l=e!==(e=e.replace(/Capture$/,"")),e=((s=e.toLowerCase())in t?s:e).slice(2),n?(r||t.addEventListener(e,v,l),(t.l||(t.l={}))[e]=n):t.removeEventListener(e,v,l)):"list"!==e&&"tagName"!==e&&"form"!==e&&!o&&e in t?t[e]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==e&&(e!==(e=e.replace(/^xlink:?/,""))?null==n||!1===n?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):null==n||!1===n?t.removeAttribute(e):t.setAttribute(e,n))}function v(t){this.l[t.type](b.event?b.event(t):t)}function O(t,e,n,r,o,i,u,a,l){var s,c,f,p,_,h,d,v,m,y,g=e.type;if(void 0!==e.constructor)return null;(s=b.__b)&&s(e);try{t:if("function"==typeof g){if(v=e.props,m=(s=g.contextType)&&r[s.__c],y=s?m?m.props.value:s.__:r,n.__c?d=(c=e.__c=n.__c).__=c.__E:("prototype"in g&&g.prototype.render?e.__c=c=new g(v,y):(e.__c=c=new x(v,y),c.constructor=g,c.render=F),m&&m.sub(c),c.props=v,c.state||(c.state={}),c.context=y,c.__n=r,f=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=g.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=w({},c.__s)),w(c.__s,g.getDerivedStateFromProps(v,c.__s))),p=c.props,_=c.state,f)null==g.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==g.getDerivedStateFromProps&&null==c.__e&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,y),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,y)){for(c.props=v,c.state=c.__s,c.__d=!1,(c.__v=e).__e=n.__e,e.__k=n.__k,c.__h.length&&u.push(c),s=0;s<e.__k.length;s++)e.__k[s]&&(e.__k[s].__=e);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,y),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(p,_,h)})}c.context=y,c.props=v,c.state=c.__s,(s=b.__r)&&s(e),c.__d=!1,c.__v=e,c.__P=t,s=c.render(c.props,c.state,c.context),e.__k=P(null!=s&&s.type==E&&null==s.key?s.props.children:s),null!=c.getChildContext&&(r=w(w({},r),c.getChildContext())),f||null==c.getSnapshotBeforeUpdate||(h=c.getSnapshotBeforeUpdate(p,_)),N(t,e,n,r,o,i,u,a,l),c.base=e.__e,c.__h.length&&u.push(c),d&&(c.__E=c.__=null),c.__e=null}else e.__e=function(t,e,n,r,o,i,u,a){var l,s,c,f,p,_=n.props,h=e.props;if(o="svg"===e.type||o,null==t&&null!=i)for(l=0;l<i.length;l++)if(null!=(s=i[l])&&(null===e.type?3===s.nodeType:s.localName===e.type)){t=s,i[l]=null;break}if(null==t){if(null===e.type)return document.createTextNode(h);t=o?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),i=null}if(null===e.type)null!=i&&(i[i.indexOf(t)]=null),_!==h&&(t.data=h);else if(e!==n){if(null!=i&&(i=k.slice.call(t.childNodes)),c=(_=n.props||C).dangerouslySetInnerHTML,f=h.dangerouslySetInnerHTML,!a){if(_===C)for(_={},p=0;p<t.attributes.length;p++)_[t.attributes[p].name]=t.attributes[p].value;(f||c)&&(f&&c&&f.__html==c.__html||(t.innerHTML=f&&f.__html||""))}(function(t,e,n,r,o){var i;for(i in n)i in e||S(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"value"===i||"checked"===i||n[i]===e[i]||S(t,i,e[i],n[i],r)})(t,h,_,o,a),e.__k=e.props.children,f||N(t,e,n,r,"foreignObject"!==e.type&&o,i,u,C,a),a||("value"in h&&void 0!==h.value&&h.value!==t.value&&(t.value=null==h.value?"":h.value),"checked"in h&&void 0!==h.checked&&h.checked!==t.checked&&(t.checked=h.checked))}return t}(n.__e,e,n,r,o,i,u,l);(s=b.diffed)&&s(e)}catch(t){b.__e(t,e,n)}return e.__e}function m(t,e){b.__c&&b.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){b.__e(t,e.__v)}})}function D(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){b.__e(t,n)}}function A(t,e,n){var r,o,i;if(b.unmount&&b.unmount(t),(r=t.ref)&&D(r,null,e),n||"function"==typeof t.type||(n=null!=(o=t.__e)),t.__e=t.__d=null,null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){b.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&A(r[i],e,n);null!=o&&y(o)}function F(t,e,n){return this.constructor(t,n)}function H(t,e,n){var r,o,i;b.__&&b.__(t,e),o=(r=n===u)?null:n&&n.__k||e.__k,t=s(E,null,[t]),i=[],O(e,(r?e:n||e).__k=t,o||C,C,void 0!==e.ownerSVGElement,n&&!r?[n]:o?null:k.slice.call(e.childNodes),i,n||C,r),m(i,t)}function T(t,e){H(t,e,u)}function R(t,e){return e=w(w({},t.props),e),2<arguments.length&&(e.children=k.slice.call(arguments,2)),c(t.type,e,e.key||t.key,e.ref||t.ref)}function z(t){var r={},o={__c:"__cC"+i++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e=this;return this.getChildContext||(n=[],this.getChildContext=function(){return r[o.__c]=e,r},this.shouldComponentUpdate=function(e){t.value!==e.value&&n.some(function(t){t.context=e.value,_(t)})},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return o.Consumer.contextType=o}b={__e:function(t,e){for(var n;e=e.__;)if((n=e.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError)n.setState(n.constructor.getDerivedStateFromError(t));else{if(null==n.componentDidCatch)continue;n.componentDidCatch(t)}return _(n.__E=n)}catch(e){t=e}throw t}},x.prototype.setState=function(t,e){var n;n=this.__s!==this.state?this.__s:this.__s=w({},this.state),"function"==typeof t&&(t=t(n,this.props)),t&&w(n,t),null!=t&&this.__v&&(this.__e=!1,e&&this.__h.push(e),_(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},x.prototype.render=E,a=[],e="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=C,i=0;var U,j,L=["setGuides","type","width","height","rulerStyle","unit","zoom","style","backgroundColor","lineColor","container","className"],M=[],X=b.__r,Y=b.diffed,W=b.__c,G=b.unmount;function V(){M.some(function(t){t.__P&&(t.__H.u.forEach($),t.__H.u.forEach(q),t.__H.u=[])}),M=[]}function $(t){t.m&&t.m()}function q(t){var e=t.i();"function"==typeof e&&(t.m=e)}b.__r=function(t){X&&X(t),(U=t.__c).__H&&(U.__H.u.forEach($),U.__H.u.forEach(q),U.__H.u=[])},b.diffed=function(t){Y&&Y(t);var e=t.__c;if(e){var n=e.__H;n&&n.u.length&&(1!==M.push(e)&&j===b.requestAnimationFrame||((j=b.requestAnimationFrame)||function(t){function e(){clearTimeout(r),cancelAnimationFrame(n),setTimeout(t)}var n,r=setTimeout(e,100);"undefined"!=typeof window&&(n=requestAnimationFrame(e))})(V))}},b.__c=function(t,e){e.some(function(t){t.__h.forEach($),t.__h=t.__h.filter(function(t){return!t.i||q(t)})}),W&&W(t,e)},b.unmount=function(t){G&&G(t);var e=t.__c;if(e){var n=e.__H;n&&n.t.forEach(function(t){return t.m&&t.m()})}};var I=b.__e;b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.o)return n&&(e.__e=n.__e,e.__k=n.__k),void r.o(t);I(t,e,n)},(new x).o=function(t){var e=this;e.__u.push(t);function n(){e.__u[e.__u.indexOf(t)]=e.__u[e.__u.length-1],e.__u.pop(),0==e.__u.length&&(e.__f&&A(e.__f),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.__f=e.__f&&R(e.__f),e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?(o=r.__e,i=void 0,(i=o.parentNode)&&i.removeChild(o)):r.__k&&t(r.__k))}var o,i}(e.__v.__k),e.__v.__k=[]),t.then(n,n)};var B="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,Z=b.event;b.event=function(t){return Z&&(t=Z(t)),t.persist=function(){},t.nativeEvent=t};var J,K=((J=Q.prototype).getChildContext=function(){return this.props.context},J.render=function(t){return t.children},Q);function Q(){}function tt(t){var e=this,n=t.container,r=s(K,{context:e.context},t.vnode);return e.i&&e.i!==n&&(e.l.parentNode&&e.i.removeChild(e.l),A(e.s),e.v=!1),t.vnode?e.v?(n.__k=e.__k,H(r,n),e.__k=n.__k):(e.l=document.createTextNode(""),T("",n),n.appendChild(e.l),e.v=!0,H(r,e.i=n,e.l),e.__k=this.l.__k):e.v&&(e.l.parentNode&&e.i.removeChild(e.l),A(e.s)),e.s=r,e.componentWillUnmount=function(){e.l.parentNode&&e.i.removeChild(e.l),A(e.s)},null}function et(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var nt,rt,ot;ot=nt=x,(rt=it).prototype=Object.create(ot.prototype),(rt.prototype.constructor=rt).__proto__=ot,it.prototype.shouldComponentUpdate=function(t,e){return et(this.props,t)||et(this.state,e)};function it(t){var e;return(e=nt.call(this,t)||this).isPureReactComponent=!0,e}function ut(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}x.prototype.isReactComponent={};var at=b.vnode;b.vnode=function(i){i.$$typeof=B,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.t&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.p&&t.prototype&&(ut(t.prototype,"componentWillMount"),ut(t.prototype,"componentWillReceiveProps"),ut(t.prototype,"componentWillUpdate"),t.p=!0),at&&at(i)};var lt,st,ct=[],ft=b.__r;b.__r=function(t){ft&&ft(t),lt=0,(st=t.__c).__H&&(st.__H.t=bt(st.__H.t))};var pt=b.diffed;b.diffed=function(t){pt&&pt(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=bt(n.i))}};var _t=b.unmount;function ht(t){b.__h&&b.__h(st);var e=st.__H||(st.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function dt(n,t,e){var r=ht(lt++);return r.__c||(r.__c=st,r.v=[e?e(t):Et(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function vt(t,e){var n=ht(lt++);return wt(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){_t&&_t(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var mt=function(){};function yt(){ct.some(function(t){t.s=!1,t.__P&&(t.__H.t=bt(t.__H.t))}),ct=[]}if("undefined"!=typeof window){var gt=b.requestAnimationFrame;mt=function(t){(!t.s&&(t.s=!0)&&1===ct.push(t)||gt!==b.requestAnimationFrame)&&(gt=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(yt))}}function bt(t){return t.forEach(Ct),t.forEach(kt),[]}function Ct(t){t.l&&t.l()}function kt(t){var e=t.v();"function"==typeof e&&(t.l=e)}function wt(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Et(t,e){return"function"==typeof e?e(t):e}var xt={useState:function(t){return dt(Et,t)},useReducer:dt,useEffect:function(t,e){var n=ht(lt++);wt(n.m,e)&&(n.v=t,n.m=e,st.__H.t.push(n),mt(st))},useLayoutEffect:function(t,e){var n=ht(lt++);wt(n.m,e)&&(n.v=t,n.m=e,st.__H.i.push(n))},useRef:function(t){return vt(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=ht(lt++);wt(r.m,n)&&(r.m=n,st.__H.u.push({ref:t,createHandle:e}))},useMemo:vt,useCallback:function(t,e){return vt(function(){return t},e)},useContext:function(t){var e=st.context[t.__c];if(!e)return t.__p;var n=ht(lt++);return null==n.v&&(n.v=!0,e.sub(st)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function Nt(t,e){for(var n in e)t[n]=e[n];return t}function Pt(t){var e=t.parentNode;e&&e.removeChild(t)}var St=b.__e;function Ot(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);St(t,e,n)},(Ot.prototype=new x).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(A(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Pt(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Ot.prototype.render=function(t,e){return e.u?t.fallback:t.children};var Dt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,At=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Ft=b.event;function Ht(t,e,n){if(null==e.__k)for(;e.firstChild;)Pt(e.firstChild);return H(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return Ft&&(t=Ft(t)),t.persist=function(){},t.nativeEvent=t};var Tt=function(){};function Rt(t){var e=this,n=t.container,r=s(Tt,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,H(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),T("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,H(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),A(e.v)},null}Tt.prototype.getChildContext=function(){return this.props.context},Tt.prototype.render=function(t){return t.children};function zt(t,e){return t?P(t).map(e):null}var Ut={map:zt,forEach:zt,count:function(t){return t?P(t).length:0},only:function(t){if(1!==(t=P(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:P};function jt(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(P(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=At.test(o))break;if(n)for(o in r=t.props={},e)r[At.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Lt(n)}function Lt(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Xt.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Xt)),t;var e}function Mt(t){return!!t&&t.$$typeof===Dt}var Xt={configurable:!0,get:function(){return this.class}};function Yt(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Wt,Gt=((Wt=x)&&(Vt.__proto__=Wt),((Vt.prototype=Object.create(Wt&&Wt.prototype)).constructor=Vt).prototype.shouldComponentUpdate=function(t,e){return Yt(this.props,t)||Yt(this.state,e)},Vt);function Vt(t){Wt.call(this,t),this.isPureReactComponent=!0}function $t(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}x.prototype.isReactComponent={};var qt=b.vnode;b.vnode=function(i){i.$$typeof=Dt,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&($t(t.prototype,"componentWillMount"),$t(t.prototype,"componentWillReceiveProps"),$t(t.prototype,"componentWillUpdate"),t.h=!0),qt&&qt(i)};Nt({version:"16.8.0",Children:Ut,render:Ht,hydrate:Ht,unmountComponentAtNode:function(t){return!!t.__k&&(H(null,t),!0)},createPortal:function(t,e){return s(Rt,{vnode:t,container:e})},createElement:jt,createContext:z,createFactory:function(t){return jt.bind(null,t)},cloneElement:function(t){return Mt(t)?Lt(R.apply(null,arguments)):t},createRef:t,Fragment:E,isValidElement:Mt,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:x,PureComponent:Gt,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):Yt(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,s(e,Nt({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Ot,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return s(r,t)}return t.displayName="Lazy",t.o=!0,t}},xt);var It=function(t,e){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Bt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t}!function(t,e){function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e);var n=t.prototype;return n.render=function(){return jt("canvas",{ref:f(this,"canvasElement"),style:this.props.style})},n.componentDidMount=function(){var t=this.canvasElement.getContext("2d");this.canvasContext=t,this.resize()},n.componentDidUpdate=function(){this.resize()},n.scroll=function(t){this.draw(t)},n.resize=function(){var t=this.canvasElement,e=this.props,n=e.width,r=e.height;this.width=n||t.offsetWidth,this.height=r||t.offsetHeight,t.width=2*this.width,t.height=2*this.height,this.draw()},n.draw=function(t){void 0===t&&(t=this.state.scrollPos);var e=this.props,n=e.unit,r=e.zoom,o=e.type,i=e.backgroundColor,u=e.lineColor,a=this.width,l=this.height;this.state.scrollPos=t;var s=this.canvasContext,c="horizontal"===o;s.rect(0,0,2*a,2*l),s.fillStyle=i,s.fill(),s.save(),s.scale(2,2),s.strokeStyle=u,s.lineWidth=1,s.font="10px sans-serif",s.fillStyle="#ffffff",s.translate(.5,0),s.beginPath();for(var f=c?a:l,p=r*n,_=Math.floor(t*r/p),h=Math.ceil((t*r+f)/p)-_,d=0;d<h;++d){var v=((d+_)*n-t)*r;if(-p<=v&&v<f){var m=c?3+v:a-18,y=c?l-18:v-4;c?s.fillText(""+(d+_)*n,m,y):(s.save(),s.translate(m,y),s.rotate(-Math.PI/2),s.fillText(""+(d+_)*n,0,0),s.restore())}for(var g=0;g<10;++g){var b=v+g/10*p;if(!(b<0||f<=b)){var C=0===g?c?l:a:g%2==0?10:7,k=c?b:a-C,w=c?b:a,E=c?l-C:b,x=c?l:b;s.moveTo(k,E),s.lineTo(w,x)}}}s.stroke(),s.restore()},t.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,style:{width:"100%",height:"100%"},backgroundColor:"#333333",lineColor:"#777777"},t}(Gt);function Zt(t,e,n,r){t.addEventListener(e,n,r)}function Jt(t,e,n){t.removeEventListener(e,n)}var Kt=function(){return(Kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Qt(t,e,n,r){var o=ue(t),i=ue(e),u=ue(r);return ee(ae(r[0],le(o,u)),ae(r[0],le(i,u)),n[0])}function te(t){return t.touches?oe(t.touches):[ie(t)]}function ee(t,e,n){var r=t.clientX,o=t.clientY;return{clientX:r,clientY:o,deltaX:r-e.clientX,deltaY:o-e.clientY,distX:r-n.clientX,distY:o-n.clientY}}function ne(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function re(t,n,r){return t.map(function(t,e){return ee(t,n[e],r[e])})}function oe(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(ie(t[r]));return n}function ie(t){return{clientX:t.clientX,clientY:t.clientY}}function ue(t){return{clientX:(t[0].clientX+t[1].clientX)/2,clientY:(t[0].clientY+t[1].clientY)/2}}function ae(t,e){return{clientX:t.clientX+e.clientX,clientY:t.clientY+e.clientY}}function le(t,e){return{clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}}var se,ce,fe=function(){function t(t,e){var i=this;void 0===e&&(e={}),this.el=t,this.options={},this.flag=!1,this.pinchFlag=!1,this.datas={},this.isDrag=!1,this.isPinch=!1,this.isMouse=!1,this.isTouch=!1,this.prevClients=[],this.startClients=[],this.movement=0,this.startPinchClients=[],this.startDistance=0,this.customDist=[0,0],this.onDragStart=function(t){if(i.flag||!1!==t.cancelable){if(function(t){return t.touches&&2<=t.touches.length}(t)){if(!i.flag&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}if(!i.flag){var e=i.startClients[0]?i.startClients:te(t);i.customDist=[0,0],i.flag=!0,i.isDrag=!1,i.startClients=e,i.prevClients=e,i.datas={};var n=ee(e[i.movement=0],i.prevClients[0],i.startClients[0]),r=i.options,o=r.dragstart;(r.preventRightClick&&3===t.which||!1===(o&&o(Kt({datas:i.datas,inputEvent:t},n))))&&(i.startClients=[],i.prevClients=[],i.flag=!1),i.flag&&t.preventDefault()}}},this.onDrag=function(t,e){if(i.flag){var n=te(t);i.pinchFlag&&i.onPinch(t,n);var r=i.move([0,0],t,n);if(r&&(r.deltaX||r.deltaY)){var o=i.options.drag;o&&o(Kt({},r,{isScroll:!!e,inputEvent:t}))}}},this.onDragEnd=function(t){if(i.flag){i.pinchFlag&&i.onPinchEnd(t),i.flag=!1;var e=i.options.dragend,n=i.prevClients,r=i.startClients,o=i.pinchFlag?Qt(n,n,r,i.startPinchClients):ee(n[0],n[0],r[0]);i.startClients=[],i.prevClients=[],e&&e(Kt({datas:i.datas,isDrag:i.isDrag,inputEvent:t},o))}},this.options=Kt({container:t,preventRightClick:!0,pinchThreshold:0,events:["touch","mouse"]},e);var n=this.options,r=n.container,o=n.events;if(this.isTouch=-1<o.indexOf("touch"),this.isMouse=-1<o.indexOf("mouse"),this.customDist=[0,0],this.isMouse&&(Zt(t,"mousedown",this.onDragStart),Zt(r,"mousemove",this.onDrag),Zt(r,"mouseup",this.onDragEnd)),this.isTouch){var u={passive:!1};Zt(t,"touchstart",this.onDragStart,u),Zt(r,"touchmove",this.onDrag,u),Zt(r,"touchend",this.onDragEnd,u)}}var e=t.prototype;return e.isDragging=function(){return this.isDrag},e.isPinching=function(){return this.isPinch},e.scrollBy=function(e,n,t,r){void 0===r&&(r=!0),this.flag&&(this.startClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),this.prevClients.forEach(function(t){t.clientX-=e,t.clientY-=n}),r&&this.onDrag(t,!0))},e.move=function(t,e,n){var r=t[0],o=t[1];void 0===n&&(n=this.prevClients);var i=this.customDist,u=this.prevClients,a=this.startClients,l=this.pinchFlag?Qt(n,u,a,this.startPinchClients):ee(n[0],u[0],a[0]);i[0]+=r,i[1]+=o,l.deltaX+=r,l.deltaY+=o;var s=l.deltaX,c=l.deltaY;return l.distX+=i[0],l.distY+=i[1],this.movement+=Math.sqrt(s*s+c*c),this.prevClients=n,this.isDrag=!0,Kt({datas:this.datas},l,{isScroll:!1,inputEvent:e})},e.onPinchStart=function(t){var e,n,r=this.options,o=r.pinchstart,i=r.pinchThreshold;if(!(this.isDrag&&this.movement>i)){var u=oe(t.changedTouches);if(this.pinchFlag=!0,(e=this.startClients).push.apply(e,u),(n=this.prevClients).push.apply(n,u),this.startDistance=ne(this.prevClients),this.startPinchClients=this.prevClients.slice(),o){var a=this.prevClients,l=ue(a),s=ee(l,l,l);o(Kt({datas:this.datas,touches:re(a,a,a)},s,{inputEvent:t}))}}},e.onPinch=function(t,e){if(this.flag&&this.pinchFlag){this.isPinch=!0;var n=this.options.pinch;if(n){var r=this.prevClients,o=this.startClients,i=ee(ue(e),ue(r),ue(o)),u=ne(e);n(Kt({datas:this.datas,touches:re(e,r,o),scale:u/this.startDistance,distance:u},i,{inputEvent:t}))}}},e.onPinchEnd=function(t){if(this.flag&&this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.options.pinchend;if(n){var r=this.prevClients,o=this.startClients,i=ee(ue(r),ue(r),ue(o));n(Kt({datas:this.datas,isPinch:e,touches:re(r,r,o)},i,{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}}},e.unset=function(){var t=this.el,e=this.options.container;this.isMouse&&(Jt(t,"mousedown",this.onDragStart),Jt(e,"mousemove",this.onDrag),Jt(e,"mouseup",this.onDragEnd)),this.isTouch&&(Jt(t,"touchstart",this.onDragStart),Jt(e,"touchmove",this.onDrag),Jt(e,"touchend",this.onDragEnd))},t}(),pe=[],_e=b.__r;b.__r=function(t){_e&&_e(t),se=0,(ce=t.__c).__H&&(ce.__H.t=ke(ce.__H.t))};var he=b.diffed;b.diffed=function(t){he&&he(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=ke(n.i))}};var de=b.unmount;function ve(t){b.__h&&b.__h(ce);var e=ce.__H||(ce.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function me(n,t,e){var r=ve(se++);return r.__c||(r.__c=ce,r.v=[e?e(t):Ne(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function ye(t,e){var n=ve(se++);return xe(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){de&&de(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var ge=function(){};function be(){pe.some(function(t){t.s=!1,t.__P&&(t.__H.t=ke(t.__H.t))}),pe=[]}if("undefined"!=typeof window){var Ce=b.requestAnimationFrame;ge=function(t){(!t.s&&(t.s=!0)&&1===pe.push(t)||Ce!==b.requestAnimationFrame)&&(Ce=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(be))}}function ke(t){return t.forEach(we),t.forEach(Ee),[]}function we(t){t.l&&t.l()}function Ee(t){var e=t.v();"function"==typeof e&&(t.l=e)}function xe(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function Ne(t,e){return"function"==typeof e?e(t):e}var Pe={__proto__:null,useState:function(t){return me(Ne,t)},useReducer:me,useEffect:function(t,e){var n=ve(se++);xe(n.m,e)&&(n.v=t,n.m=e,ce.__H.t.push(n),ge(ce))},useLayoutEffect:function(t,e){var n=ve(se++);xe(n.m,e)&&(n.v=t,n.m=e,ce.__H.i.push(n))},useRef:function(t){return ye(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=ve(se++);xe(r.m,n)&&(r.m=n,ce.__H.u.push({ref:t,createHandle:e}))},useMemo:ye,useCallback:function(t,e){return ye(function(){return t},e)},useContext:function(t){var e=ce.context[t.__c];if(!e)return t.__p;var n=ve(se++);return null==n.v&&(n.v=!0,e.sub(ce)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function Se(t,e){for(var n in e)t[n]=e[n];return t}function Oe(t){var e=t.parentNode;e&&e.removeChild(t)}var De=b.__e;function Ae(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);De(t,e,n)},(Ae.prototype=new x).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(A(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Oe(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},Ae.prototype.render=function(t,e){return e.u?t.fallback:t.children};var Fe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,He=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Te=b.event;function Re(t,e,n){if(null==e.__k)for(;e.firstChild;)Oe(e.firstChild);return H(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return Te&&(t=Te(t)),t.persist=function(){},t.nativeEvent=t};var ze=function(){};function Ue(t){var e=this,n=t.container,r=s(ze,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,H(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),T("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,H(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),A(e.v)},null}ze.prototype.getChildContext=function(){return this.props.context},ze.prototype.render=function(t){return t.children};function je(t,e){return t?P(t).map(e):null}var Le={map:je,forEach:je,count:function(t){return t?P(t).length:0},only:function(t){if(1!==(t=P(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:P};function Me(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(P(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=He.test(o))break;if(n)for(o in r=t.props={},e)r[He.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Xe(n)}function Xe(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(We.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",We)),t;var e}function Ye(t){return!!t&&t.$$typeof===Fe}var We={configurable:!0,get:function(){return this.class}};function Ge(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function Ve(t){return t&&(t.base||1===t.nodeType&&t)||null}var $e,qe=(($e=x)&&(Ie.__proto__=$e),((Ie.prototype=Object.create($e&&$e.prototype)).constructor=Ie).prototype.shouldComponentUpdate=function(t,e){return Ge(this.props,t)||Ge(this.state,e)},Ie);function Ie(t){$e.call(this,t),this.isPureReactComponent=!0}function Be(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}x.prototype.isReactComponent={};var Ze=b.vnode;b.vnode=function(i){i.$$typeof=Fe,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(Be(t.prototype,"componentWillMount"),Be(t.prototype,"componentWillReceiveProps"),Be(t.prototype,"componentWillUpdate"),t.h=!0),Ze&&Ze(i)};Se({version:"16.8.0",Children:Le,render:Re,hydrate:Re,unmountComponentAtNode:function(t){return!!t.__k&&(H(null,t),!0)},createPortal:function(t,e){return s(Ue,{vnode:t,container:e})},createElement:Me,createContext:z,createFactory:function(t){return Me.bind(null,t)},cloneElement:function(t){return Ye(t)?Xe(R.apply(null,arguments)):t},createRef:t,Fragment:E,isValidElement:Ye,findDOMNode:Ve,Component:x,PureComponent:qe,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):Ge(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,s(e,Se({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:Ae,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return s(r,t)}return t.displayName="Lazy",t.o=!0,t}},Pe);var Je=function(t,e){return(Je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ke=function(){return(Ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var Qe=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};function tn(n,t){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t.replace(/([^}{]*){/gm,function(t,e){return function(t){var e=t.match(/("[^"]*"|'[^']*'|[^,\s()]*\((?:[^()]*|\([^()]*\))*\)[^,\s()]*|[^,])+/g);return e?e.map(function(t){return t.trim()}):[]}(e).map(function(t){return-1<t.indexOf(":global")?t.replace(/\:global/g,""):-1<t.indexOf(":host")?""+t.replace(/\:host/g,"."+n):"."+n+" "+t}).join(", ")+"{"}),(document.head||document.body).appendChild(e),e}var en,nn,rn=[],on=b.__r;b.__r=function(t){on&&on(t),en=0,(nn=t.__c).__H&&(nn.__H.t=hn(nn.__H.t))};var un=b.diffed;b.diffed=function(t){un&&un(t);var e=t.__c;if(e){var n=e.__H;n&&(n.u=(n.u.some(function(t){t.ref&&(t.ref.current=t.createHandle())}),[]),n.i=hn(n.i))}};var an=b.unmount;function ln(t){b.__h&&b.__h(nn);var e=nn.__H||(nn.__H={o:[],t:[],i:[],u:[]});return t>=e.o.length&&e.o.push({}),e.o[t]}function sn(n,t,e){var r=ln(en++);return r.__c||(r.__c=nn,r.v=[e?e(t):yn(void 0,t),function(t){var e=n(r.v[0],t);r.v[0]!==e&&(r.v[0]=e,r.__c.setState({}))}]),r.v}function cn(t,e){var n=ln(en++);return mn(n.m,e)?(n.m=e,n.p=t,n.v=t()):n.v}b.unmount=function(t){an&&an(t);var e=t.__c;if(e){var n=e.__H;n&&n.o.forEach(function(t){return t.l&&t.l()})}};var fn=function(){};function pn(){rn.some(function(t){t.s=!1,t.__P&&(t.__H.t=hn(t.__H.t))}),rn=[]}if("undefined"!=typeof window){var _n=b.requestAnimationFrame;fn=function(t){(!t.s&&(t.s=!0)&&1===rn.push(t)||_n!==b.requestAnimationFrame)&&(_n=b.requestAnimationFrame,(b.requestAnimationFrame||function(t){function e(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(t)}var n=setTimeout(e,100),r=requestAnimationFrame(e)})(pn))}}function hn(t){return t.forEach(dn),t.forEach(vn),[]}function dn(t){t.l&&t.l()}function vn(t){var e=t.v();"function"==typeof e&&(t.l=e)}function mn(n,t){return!n||t.some(function(t,e){return t!==n[e]})}function yn(t,e){return"function"==typeof e?e(t):e}var gn={useState:function(t){return sn(yn,t)},useReducer:sn,useEffect:function(t,e){var n=ln(en++);mn(n.m,e)&&(n.v=t,n.m=e,nn.__H.t.push(n),fn(nn))},useLayoutEffect:function(t,e){var n=ln(en++);mn(n.m,e)&&(n.v=t,n.m=e,nn.__H.i.push(n))},useRef:function(t){return cn(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){var r=ln(en++);mn(r.m,n)&&(r.m=n,nn.__H.u.push({ref:t,createHandle:e}))},useMemo:cn,useCallback:function(t,e){return cn(function(){return t},e)},useContext:function(t){var e=nn.context[t.__c];if(!e)return t.__p;var n=ln(en++);return null==n.v&&(n.v=!0,e.sub(nn)),e.props.value},useDebugValue:function(t,e){b.useDebugValue&&b.useDebugValue(e?e(t):t)}};function bn(t,e){for(var n in e)t[n]=e[n];return t}function Cn(t){var e=t.parentNode;e&&e.removeChild(t)}var kn=b.__e;function wn(){this.t=[]}b.__e=function(t,e,n){if(t.then&&n)for(var r,o=e;o=o.__p;)if((r=o.__c)&&r.i)return n&&(e.__e=n.__e,e.__k=n.__k),void r.i(t);kn(t,e,n)},(wn.prototype=new x).i=function(t){var e=this;e.t.push(t);function n(){e.t[e.t.indexOf(t)]=e.t[e.t.length-1],e.t.pop(),0==e.t.length&&(A(e.props.fallback),e.__v.__e=null,e.__v.__k=e.state.u,e.setState({u:null}))}null==e.state.u&&(e.setState({u:e.__v.__k}),function t(e){for(var n=0;n<e.length;n++){var r=e[n];null!=r&&("function"!=typeof r.type&&r.__e?Cn(r.__e):r.__k&&t(r.__k))}}(e.__v.__k),e.__v.__k=[]),t.then(n,n)},wn.prototype.render=function(t,e){return e.u?t.fallback:t.children};var En="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,xn=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,Nn=b.event;function Pn(t,e,n){if(null==e.__k)for(;e.firstChild;)Cn(e.firstChild);return H(t,e),"function"==typeof n&&n(),t?t.__c:null}b.event=function(t){return Nn&&(t=Nn(t)),t.persist=function(){},t.nativeEvent=t};var Sn=function(){};function On(t){var e=this,n=t.container,r=s(Sn,{context:e.context},t.vnode);return e.l&&e.l!==n&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v),e.p=!1),t.vnode?e.p?(n.__k=e.__k,H(r,n),e.__k=n.__k):(e.s=document.createTextNode(""),T("",n),n.insertBefore(e.s,n.firstChild),e.p=!0,H(r,e.l=n,e.s),e.__k=this.s.__k):e.p&&(e.s.parentNode&&e.l.removeChild(e.s),A(e.v)),e.v=r,e.componentWillUnmount=function(){e.s.parentNode&&e.l.removeChild(e.s),A(e.v)},null}Sn.prototype.getChildContext=function(){return this.props.context},Sn.prototype.render=function(t){return t.children};function Dn(t,e){return t?P(t).map(e):null}var An={map:Dn,forEach:Dn,count:function(t){return t?P(t).length:0},only:function(t){if(1!==(t=P(t)).length)throw new Error("Children.only() expects only one child.");return t[0]},toArray:P};function Fn(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.apply(void 0,t),r=n.type,o=n.props;return"function"!=typeof r&&(o.defaultValue&&(o.value||0===o.value||(o.value=o.defaultValue),delete o.defaultValue),Array.isArray(o.value)&&o.multiple&&"select"===r&&(P(o.children).forEach(function(t){-1!=o.value.indexOf(t.props.value)&&(t.props.selected=!0)}),delete o.value),function(t,e){var n,r,o;for(o in e)if(n=xn.test(o))break;if(n)for(o in r=t.props={},e)r[xn.test(o)?o.replace(/([A-Z0-9])/,"-$1").toLowerCase():o]=e[o]}(n,o)),n.preactCompatNormalized=!1,Hn(n)}function Hn(t){return t.preactCompatNormalized=!0,((e=t.props).class||e.className)&&(Rn.enumerable="className"in e,e.className&&(e.class=e.className),Object.defineProperty(e,"className",Rn)),t;var e}function Tn(t){return!!t&&t.$$typeof===En}var Rn={configurable:!0,get:function(){return this.class}};function zn(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}var Un,jn=((Un=x)&&(Ln.__proto__=Un),((Ln.prototype=Object.create(Un&&Un.prototype)).constructor=Ln).prototype.shouldComponentUpdate=function(t,e){return zn(this.props,t)||zn(this.state,e)},Ln);function Ln(t){Un.call(this,t),this.isPureReactComponent=!0}function Mn(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(t){this["UNSAFE_"+e]=t}})}x.prototype.isReactComponent={};var Xn=b.vnode;b.vnode=function(i){i.$$typeof=En,function(){var t=i.type,e=i.props;if(e&&"string"==typeof t){var n={};for(var r in e)/^on(Ani|Tra)/.test(r)&&(e[r.toLowerCase()]=e[r],delete e[r]),n[r.toLowerCase()]=r;if(n.ondoubleclick&&(e.ondblclick=e[n.ondoubleclick],delete e[n.ondoubleclick]),n.onbeforeinput&&(e.onbeforeinput=e[n.onbeforeinput],delete e[n.onbeforeinput]),n.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|ra/i.test(e.type))){var o=n.oninput||"oninput";e[o]||(e[o]=e[n.onchange],delete e[n.onchange])}}}();var t=i.type;t&&t.o&&i.ref&&(i.props.ref=i.ref,i.ref=null),"function"==typeof t&&!t.h&&t.prototype&&(Mn(t.prototype,"componentWillMount"),Mn(t.prototype,"componentWillReceiveProps"),Mn(t.prototype,"componentWillUpdate"),t.h=!0),Xn&&Xn(i)};bn({version:"16.8.0",Children:An,render:Pn,hydrate:Pn,unmountComponentAtNode:function(t){return!!t.__k&&(H(null,t),!0)},createPortal:function(t,e){return s(On,{vnode:t,container:e})},createElement:Fn,createContext:z,createFactory:function(t){return Fn.bind(null,t)},cloneElement:function(t){return Tn(t)?Hn(R.apply(null,arguments)):t},createRef:t,Fragment:E,isValidElement:Tn,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:x,PureComponent:jn,memo:function(e,r){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),(r?!r(this.props,t):zn(this.props,t))||!n}function t(t){return this.shouldComponentUpdate=n,s(e,bn({},t))}return t.prototype.isReactComponent=!0,t.displayName="Memo("+(e.displayName||e.name)+")",t.o=!0,t},forwardRef:function(n){function t(t){var e=t.ref;return delete t.ref,n(t,e)}return t.prototype.isReactComponent=!0,t.o=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t},unstable_batchedUpdates:function(t,e){return t(e)},Suspense:wn,lazy:function(e){var n,r,o;function t(t){if(n||(n=e()).then(function(t){r=t.default},function(t){o=t}),o)throw o;if(!r)throw n;return s(r,t)}return t.displayName="Lazy",t.o=!0,t}},gn);var Yn=function(t,e){return(Yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Wn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.map(function(t){return t.split(" ").map(function(t){return t?""+e+t:""}).join(" ")}).join(" ")}.apply(void 0,["scena-"].concat(t))}Wn("ruler");var Gn,Vn,$n,qn,In,Bn=Wn("guide","adder"),Zn=Wn("guides"),Jn=Wn("guide"),Kn=Wn("dragging"),Qn=(Gn="div",Vn='\n{\n    position: relative;\n}\ncanvas {\n    position: relative;\n}\n.guides {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n    z-index: 2000;\n}\n:host.horizontal .guides {\n    width: 100%;\n    height: 0;\n    top: 30px;\n}\n:host.vertical .guides {\n    height: 100%;\n    width: 0;\n    left: 30px;\n}\n.guide {\n    position: absolute;\n    background: #f33;\n    z-index: 2;\n}\n.guide.dragging:before {\n    position: absolute;\n    content: "";\n    width: 100%;\n    height: 100%;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n:host.horizontal .guide {\n    width: 100%;\n    height: 1px;\n    cursor: row-resize;\n}\n:host.vertical .guide {\n    width: 1px;\n    height: 100%;\n    cursor: col-resize;\n}\n.mobile :host.horizontal .guide {\n    transform: scale(1, 2);\n}\n.mobile :host.vertical .guide {\n    transform: scale(2, 1);\n}\n:host.horizontal .guide:before {\n    height: 20px;\n}\n:host.vertical .guide:before {\n    width: 20px;\n}\n.adder {\n    display: none;\n}\n.adder.dragging {\n    display: block;\n}\n'.replace(/\.([^{,\s\d.]+)/g,"."+"scena-"+"$1"),qn="rCS"+function(t){return Qe(t).toString(36)}(Vn),In=0,function(e){function t(t){return e.call(this,t)||this}return function(t,e){function n(){this.constructor=t}Je(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,e),t.prototype.render=function(){var t=this.props,e=t.className,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["className"]);return Me(Gn,Ke({className:e+" "+qn},n))},t.prototype.componentDidMount=function(){0===In&&($n=tn(qn,Vn)),++In},t.prototype.componentWillUnmount=function(){0==--In&&$n&&$n.parentNode.removeChild($n)},t.prototype.getElement=function(){return this.element||(this.element=Ve(this))},t}(x)),tr=function(t){function e(){var s=null!==t&&t.apply(this,arguments)||this;return s.state={guides:[]},s.scrollPos=0,s.guideElements=[],s.onDragStart=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o=t.inputEvent,i="horizontal"===s.props.type,u=s.guidesElement.getBoundingClientRect();e.offset=i?u.top:u.left,function(t,e){t.classList?t.classList.add(e):t.className+=" "+e}(e.target,Kn),s.onDrag({datas:e,clientX:n,clientY:r}),o.stopPropagation(),o.preventDefault()},s.onDrag=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o="horizontal"===s.props.type,i=Math.round((o?r:n)-e.offset);return e.target.style.transform=s.getTranslateName()+"("+i+"px)",i},s.onDragEnd=function(t){var e=t.datas,n=t.clientX,r=t.clientY,o=s.onDrag({datas:e,clientX:n,clientY:r}),i=s.state.guides,u=s.props.setGuides,a=Math.round(o/s.props.zoom);if(!function(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}(e.target,Kn),e.fromRuler)o>=s.scrollPos&&i.indexOf(a)<0&&s.setState({guides:i.concat([a])},function(){u(s.state.guides)});else{var l=e.target.getAttribute("data-index");o<s.scrollPos||-1<i.indexOf(a)?i.splice(l,1):i[l]=a,s.setState({guides:i.slice()},function(){u(s.state.guides)})}},s}!function(t,e){function n(){this.constructor=t}Yn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=t.type,r=t.width,o=t.height,i=t.unit,u=t.zoom,a=t.style,l=t.rulerStyle,s=t.backgroundColor,c=t.lineColor;return Fn(Qn,{ref:f(this,"manager"),className:Wn("manager",n)+" "+e,style:a},Fn(Bt,{ref:f(this,"ruler"),type:n,width:r,height:o,unit:i,zoom:u,backgroundColor:s,lineColor:c,style:l}),Fn("div",{className:Zn,ref:f(this,"guidesElement")},Fn("div",{className:Bn,ref:f(this,"adderElement")}),this.renderGuides()))},n.renderGuides=function(){var n=this,t=this.props,r=t.type,o=t.zoom,i="horizontal"===r?"translateY":"translateX",e=this.state.guides;return this.guideElements=[],e.map(function(t,e){return Fn("div",{className:Wn("guide",r),ref:function(e,n,r){return function(t){t&&(e[n][r]=t)}}(n,"guideElements",e),key:e,"data-index":e,style:{transform:i+"("+t*o+"px)"}})})},n.componentDidMount=function(){var r=this;this.dragger=new fe(this.manager.getElement(),{container:document.body,dragstart:function(t){var e=t.inputEvent.target,n=t.datas;if(e===r.ruler.canvasElement)t.datas.fromRuler=!0,n.target=r.adderElement;else{if(!function(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}(e,Jn))return!1;n.target=e}r.onDragStart(t)},drag:this.onDrag,dragend:this.onDragEnd})},n.componentWillUnmount=function(){this.dragger.unset()},n.getGuides=function(){return this.state.guides},n.scrollGuides=function(n){var t=this.props.zoom,e=this.guidesElement;this.scrollPos=n,e.style.transform=this.getTranslateName()+"("+-n*t+"px)";var r=this.state.guides;this.guideElements.forEach(function(t,e){t&&(t.style.display=-n+r[e]<0?"none":"block")})},n.resize=function(){this.ruler.resize()},n.scroll=function(t){this.ruler.scroll(t)},n.getTranslateName=function(){return"horizontal"===this.props.type?"translateY":"translateX"},e.defaultProps={className:"",type:"horizontal",setGuides:function(){},zoom:1,style:{width:"100%",height:"100%"}},e}(jn),er=function(n){function t(t){var e=n.call(this,t)||this;return e.state={},e.state=e.props,e}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(t,n),t.prototype.render=function(){var t=this.state,e=t.container,n=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["container"]);return function(t,e){return s(tt,{vnode:t,container:e})}(s(tr,o({ref:f(this,"preactGuides")},n)),e)},t}(x),nr=function(){function t(t,e){void 0===e&&(e={}),this.tempElement=document.createElement("div"),H(s(er,o({ref:f(this,"innerGuides")},e,{container:t})),this.tempElement)}var e=t.prototype;return e.scroll=function(t){this.getPreactGuides().scroll(t)},e.scrollGuides=function(t){this.getPreactGuides().scrollGuides(t)},e.resize=function(){this.getPreactGuides().resize()},e.getGuides=function(){return this.getPreactGuides().getGuides()},e.setState=function(t,e){this.innerGuides.setState(t,e)},e.destroy=function(){H("",this.tempElement),this.tempElement=null,this.innerGuides=null},e.getPreactGuides=function(){return this.innerGuides.preactGuides},t=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(u=(i<3?o(u):3<i?o(e,n,u):o(e,n))||u);return 3<i&&u&&Object.defineProperty(e,n,u),u}([function(n,r){return function(t){var e=t.prototype;n.forEach(function(t){r(e,t)})}}(L,function(t,n){Object.defineProperty(t,n,{get:function(){return this.getPreactGuides().props[n]},set:function(t){var e;this.innerGuides.setState(((e={})[n]=t,e))},enumerable:!0,configurable:!0})})],t)}();return nr.PROPERTIES=L,nr});
//# sourceMappingURL=guides.min.js.map

{"version":3,"file":"index.js","sources":["../../src/consts.ts","../../src/InnerGuides.tsx","../../src/Guides.tsx","../src/index.ts"],"sourcesContent":["import { GuidesOptions } from \"./types\";\n\nexport const PROPERTIES: Array<keyof GuidesOptions> = [\n    \"setGuides\",\n    \"type\", \"width\", \"height\", \"rulerStyle\",\n    \"unit\", \"zoom\", \"style\", \"backgroundColor\", \"lineColor\",\n    \"snaps\", \"snapThreshold\", \"direction\",\n    \"container\",\n    \"className\",\n    \"textColor\",\n    \"displayDragPos\",\n    \"dragPosFormat\",\n    \"cspNonce\",\n    \"textFormat\",\n    \"defaultGuides\",\n    \"showGuides\",\n];\n\nexport const METHODS = [\n    \"getGuides\",\n    \"loadGuides\",\n    \"scroll\",\n    \"scrollGuides\",\n    \"resize\",\n] as const;\n\nexport const EVENTS = [\n    \"changeGuides\",\n    \"dragStart\",\n    \"drag\",\n    \"dragEnd\",\n] as const;\n","import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ref } from \"framework-utils\";\nimport ReactGuides from \"@scena/react-guides\";\nimport { GuidesOptions } from \"./types\";\n\nexport default class InnerGuides extends React.Component<GuidesOptions, GuidesOptions> {\n    public state: GuidesOptions = {};\n    public guides: ReactGuides;\n    constructor(props: GuidesOptions) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        const { container, ...state } = this.state;\n        return createPortal(<ReactGuides ref={ref(this, \"guides\")} {...state} />, container);\n    }\n}\n","import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { PROPERTIES, METHODS, EVENTS } from \"./consts\";\nimport { GuidesInterface, GuideOptions } from \"@scena/react-guides/declaration/types\";\nimport InnerGuides from \"./InnerGuides\";\nimport { GuidesOptions, GuidesEvents } from \"./types\";\nimport Component from \"@egjs/component\";\nimport { camelize } from \"@daybrush/utils\";\n\n@Properties(METHODS as any, (prototype, property) => {\n    if (prototype[property]) {\n        return;\n    }\n    prototype[property] = function(...args) {\n        const self = this.getPreactGuides();\n\n        if (!self || !self[property]) {\n            return;\n        }\n        return self[property](...args);\n    };\n})\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getPreactGuides().props[property];\n        },\n        set(value) {\n            this.innerGuides.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\n/**\n * @sort 1\n * @extends eg.Component\n */\nclass Guides extends Component {\n    private tempElement = document.createElement(\"div\");\n    private innerGuides!: InnerGuides;\n    /**\n     * @sort 1\n     */\n    constructor(container: HTMLElement, options: Partial<GuidesOptions> = {}) {\n        super();\n        const events: any = {};\n\n        EVENTS.forEach(name => {\n            events[camelize(`on ${name}`)] = (e: any) => this.trigger(name, e);\n        });\n\n        render(\n            <InnerGuides  {...options} {...events} container={container} ref={ref(this, \"innerGuides\")} />,\n            this.tempElement,\n        );\n    }\n    /**\n     * @param state\n     * @param callback\n     */\n    public setState(state: Partial<GuideOptions>, callback?: () => void) {\n        this.innerGuides.setState(state, callback);\n    }\n    /**\n     * destroy guides\n     */\n    public destroy() {\n        render(null, this.tempElement);\n        this.tempElement = null;\n        this.innerGuides = null;\n    }\n    private getPreactGuides() {\n        return this.innerGuides.guides;\n    }\n}\ninterface Guides extends GuidesInterface {\n    on<T extends keyof GuidesEvents>(eventName: T, handlerToAttach: (event: GuidesEvents[T]) => any): this;\n    on(eventName: string, handlerToAttach: (event: { [key: string]: any }) => any): this;\n    on(events: { [key: string]: (event: { [key: string]: any }) => any }): this;\n}\n\nexport default Guides;\n","import Guides from \"../../src/Guides\";\nimport Dragger from \"@daybrush/drag\";\nimport \"./index.css\";\n\nconst guides1 = new Guides(document.querySelector(\".ruler.horizontal\"), {\n    type: \"horizontal\",\n    displayDragPos: true,\n    rulerStyle: { left: \"30px\", width: \"calc(100% - 30px)\", height: \"100%\" },\n});\nconst guides2 = new Guides(document.querySelector(\".ruler.vertical\"), {\n    type: \"vertical\",\n    displayDragPos: true,\n    rulerStyle: { top: \"30px\", height: \"calc(100% - 30px)\", width: \"100%\" },\n});\n\nwindow.addEventListener(\"resize\", () => {\n    guides1.resize();\n    guides2.resize();\n});\n\nlet scrollX = 0;\nlet scrollY = 0;\n\nconst box = document.querySelector(\".box\");\n\nnew Dragger(document.body, {\n    dragstart: e => {\n        if (e.inputEvent.target === box || e.inputEvent.target.nodeName === \"A\") {\n            return false;\n        }\n    },\n    drag: e => {\n        scrollX -= e.deltaX;\n        scrollY -= e.deltaY;\n\n        guides1.scroll(scrollX);\n        guides1.scrollGuides(scrollY);\n        guides2.scroll(scrollY);\n        guides2.scrollGuides(scrollX);\n    },\n});\nbox.addEventListener(\"click\", () => {\n    scrollX = 0;\n    scrollY = 0;\n    guides1.scroll(0);\n    guides1.scrollGuides(0);\n    guides2.scroll(0);\n    guides2.scrollGuides(0);\n});\n"],"names":["PROPERTIES","METHODS","EVENTS","__extends","props","_super","_this","state","_a","container","createPortal","React","ReactGuides","ref","options","document","createElement","events","forEach","name","camelize","e","trigger","render","InnerGuides","tempElement","callback","innerGuides","setState","guides","Guides","Properties","prototype","property","_i","args","self","getPreactGuides","Object","defineProperty","get","set","value","enumerable","configurable","Component","guides1","querySelector","type","displayDragPos","rulerStyle","left","width","height","guides2","top","window","addEventListener","resize","scrollX","scrollY","box","Dragger","body","dragstart","inputEvent","target","nodeName","drag","deltaX","deltaY","scroll","scrollGuides"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEO,IAAMA,UAAU,GAA+B,CAClD,WADkD,EAElD,MAFkD,EAE1C,OAF0C,EAEjC,QAFiC,EAEvB,YAFuB,EAGlD,MAHkD,EAG1C,MAH0C,EAGlC,OAHkC,EAGzB,iBAHyB,EAGN,WAHM,EAIlD,OAJkD,EAIzC,eAJyC,EAIxB,WAJwB,EAKlD,WALkD,EAMlD,WANkD,EAOlD,WAPkD,EAQlD,gBARkD,EASlD,eATkD,EAUlD,UAVkD,EAWlD,YAXkD,EAYlD,eAZkD,EAalD,YAbkD,CAA/C;AAgBP,IAAO,IAAMC,OAAO,GAAG,CACnB,WADmB,EAEnB,YAFmB,EAGnB,QAHmB,EAInB,cAJmB,EAKnB,QALmB,CAAhB;AAQP,IAAO,IAAMC,MAAM,GAAG,CAClB,cADkB,EAElB,WAFkB,EAGlB,MAHkB,EAIlB,SAJkB,CAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}
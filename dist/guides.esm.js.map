{"version":3,"file":"guides.esm.js","sources":["../src/consts.ts","../src/InnerGuides.tsx","../src/Guides.tsx"],"sourcesContent":["import { GuidesOptions } from \"./types\";\n\nexport const PROPERTIES: Array<keyof GuidesOptions> = [\n    \"setGuides\",\n    \"type\", \"width\", \"height\", \"rulerStyle\",\n    \"unit\", \"zoom\", \"style\", \"backgroundColor\", \"lineColor\",\n    \"snaps\", \"snapThreshold\", \"direction\",\n    \"container\",\n    \"className\",\n    \"textColor\",\n];\n\nexport const METHODS = [\n    \"getGuides\",\n    \"loadGuides\",\n    \"scroll\",\n    \"scrollGuides\",\n    \"resize\",\n] as const;\n","import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { ref } from \"framework-utils\";\nimport ReactGuides from \"@scena/react-guides\";\nimport { GuidesOptions } from \"./types\";\n\nexport default class InnerGuides extends React.Component<GuidesOptions, GuidesOptions> {\n    public state: GuidesOptions = {};\n    public guides: ReactGuides;\n    constructor(props: GuidesOptions) {\n        super(props);\n        this.state = this.props;\n    }\n    public render() {\n        const { container, ...state } = this.state;\n        return createPortal(<ReactGuides ref={ref(this, \"guides\")} {...state} />, container);\n    }\n}\n","import { ref, Properties } from \"framework-utils\";\nimport * as React from \"react\";\nimport { render } from \"react-dom\";\nimport { PROPERTIES, METHODS } from \"./consts\";\nimport { GuidesInterface } from \"@scena/react-guides/declaration/types\";\nimport InnerGuides from \"./InnerGuides\";\nimport { GuidesOptions } from \"./types\";\n\n@Properties(METHODS as any, (prototype, property) => {\n    if (prototype[property]) {\n        return;\n    }\n    prototype[property] = function(...args) {\n        const self = this.getPreactGuides();\n\n        if (!self || !self[property]) {\n            return;\n        }\n        return self[property](...args);\n    };\n})\n@Properties(PROPERTIES, (prototype, property) => {\n    Object.defineProperty(prototype, property, {\n        get() {\n            return this.getPreactGuides().props[property];\n        },\n        set(value) {\n            this.innerGuides.setState({\n                [property]: value,\n            });\n        },\n        enumerable: true,\n        configurable: true,\n    });\n})\nclass Guides {\n    private tempElement = document.createElement(\"div\");\n    private innerGuides!: InnerGuides;\n\n    constructor(container: HTMLElement, options: Partial<GuidesOptions> = {}) {\n        render(\n            <InnerGuides ref={ref(this, \"innerGuides\")}\n                {...options} container={container} />,\n            this.tempElement,\n        );\n    }\n    public setState(state: any, callback?: () => void) {\n        this.innerGuides.setState(state, callback);\n    }\n    public destroy() {\n        render(null, this.tempElement);\n        this.tempElement = null;\n        this.innerGuides = null;\n    }\n    private getPreactGuides() {\n        return this.innerGuides.guides;\n    }\n}\ninterface Guides extends GuidesInterface {}\n\nexport default Guides;\n"],"names":["PROPERTIES","METHODS","__extends","props","_super","_this","state","_a","container","createPortal","React","ReactGuides","ref","options","document","createElement","render","InnerGuides","tempElement","callback","innerGuides","setState","guides","Guides","Properties","prototype","property","_i","args","self","getPreactGuides","Object","defineProperty","get","set","value","enumerable","configurable"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEaA,UAAU,GAA+B,CAClD,WADkD,EAElD,MAFkD,EAE1C,OAF0C,EAEjC,QAFiC,EAEvB,YAFuB,EAGlD,MAHkD,EAG1C,MAH0C,EAGlC,OAHkC,EAGzB,iBAHyB,EAGN,WAHM,EAIlD,OAJkD,EAIzC,eAJyC,EAIxB,WAJwB,EAKlD,WALkD,EAMlD,WANkD,EAOlD,WAPkD,CAA/C;AAUP,IAAaC,OAAO,GAAG,CACnB,WADmB,EAEnB,YAFmB,EAGnB,QAHmB,EAInB,cAJmB,EAKnB,QALmB,CAAhB;;ACNP;;;EAAyCC,8BAAA;;sBAGrC,CAAYC,KAAZ;gBACIC,WAAA,KAAA,EAAMD,KAAN,SADJ;;IAFOE,WAAA,GAAuB,EAAvB;IAIHA,KAAI,CAACC,KAAL,GAAaD,KAAI,CAACF,KAAlB;;;;;;gBAEG,GAAP;QACUI,eAAN;QAAQC,wBAAR;QAAmBF,iCAAnB;;WACOG,YAAY,CAACC,aAAA,CAACC,WAAD;MAAaC,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,QAAP;OAAsBN,MAA3C,CAAD,EAAuDE,SAAvD,CAAnB;GAFG;;oBAIX;EAXyCE,UAAzC;;AC6BA;;;iBAII,CAAYF,SAAZ,EAAoCK,OAApC;0BAAoC,EAAA;MAAAA,YAAA;;;oBAH5B,GAAcC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAd;IAIJC,MAAM,CACFN,aAAA,CAACO,WAAD;MAAaL,GAAG,EAAEA,GAAG,CAAC,IAAD,EAAO,aAAP;OACbC;MAASL,SAAS,EAAEA;MAD5B,CADE,EAGF,KAAKU,WAHH,CAAN;;;;;kBAMG,GAAP,UAAgBZ,KAAhB,EAA4Ba,QAA5B;SACSC,WAAL,CAAiBC,QAAjB,CAA0Bf,KAA1B,EAAiCa,QAAjC;GADG;;iBAGA,GAAP;IACIH,MAAM,CAAC,IAAD,EAAO,KAAKE,WAAZ,CAAN;SACKA,WAAL,GAAmB,IAAnB;SACKE,WAAL,GAAmB,IAAnB;GAHG;;yBAKC,GAAR;WACW,KAAKA,WAAL,CAAiBE,MAAxB;GADI;;EAnBNC,MAAM,eA3BXC,UAAU,CAACvB,OAAD,EAAiB,UAACwB,SAAD,EAAYC,QAAZ;QACpBD,SAAS,CAACC,QAAD,CAAb,EAAyB;;;;IAGzBD,SAAS,CAACC,QAAD,CAAT,GAAsB;mBAAS;;WAAA,YAAAC,uBAAAA;QAAAC,QAAA,gBAAA;;;UACrBC,IAAI,GAAG,KAAKC,eAAL,EAAb;;UAEI,CAACD,IAAD,IAAS,CAACA,IAAI,CAACH,QAAD,CAAlB,EAA8B;;;;aAGvBG,IAAI,CAACH,QAAD,CAAJ,MAAA,CAAAG,IAAA,EAAkBD,IAAlB,CAAP;KANJ;GAJO,GAaVJ,UAAU,CAACxB,UAAD,EAAa,UAACyB,SAAD,EAAYC,QAAZ;IACpBK,MAAM,CAACC,cAAP,CAAsBP,SAAtB,EAAiCC,QAAjC,EAA2C;MACvCO,GAAG;eACQ,KAAKH,eAAL,GAAuB3B,KAAvB,CAA6BuB,QAA7B,CAAP;OAFmC;MAIvCQ,GAAG,YAACC;;;aACKf,WAAL,CAAiBC,QAAjB,WACId,GAACmB,SAAD,GAAYS,SADhB;OALmC;MASvCC,UAAU,EAAE,IAT2B;MAUvCC,YAAY,EAAE;KAVlB;GADO,IAcLd,OAAA;eAsBN;GAtBA;;;;;"}